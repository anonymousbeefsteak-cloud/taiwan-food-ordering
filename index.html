<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>å°ç£å°åƒåº— - LINE å¿«é€Ÿè¨‚é¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f7fafc;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-size: 18px;
            color: #666;
        }
    </style>
</head>
<body>
    <div id="root">
        <div class="loading">
            â³ è¼‰å…¥è¨‚é¤åŠŸèƒ½ä¸­...
        </div>
    </div>

    <!-- è¼‰å…¥ React å’Œç›¸é—œåº« -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

    <script type="text/babel">
        // ç°¡å–®çš„èœå–®è³‡æ–™
        const menuItems = [
            { name: 'æ»·è‚‰é£¯', price: 35, icon: 'ğŸš' },
            { name: 'é›è‚‰é£¯', price: 40, icon: 'ğŸ—' },
            { name: 'èšµä»”ç…', price: 65, icon: 'ğŸ³' },
            { name: 'å¤§è…¸éºµç·š', price: 50, icon: 'ğŸœ' },
            { name: 'çç å¥¶èŒ¶', price: 45, icon: 'ğŸ¥¤' }
        ];

        // ç°¡å–®çš„è¨‚é¤çµ„ä»¶
        const SimpleOrderApp = () => {
            const [cart, setCart] = React.useState([]);
            const [customerName, setCustomerName] = React.useState('');
            const [customerPhone, setCustomerPhone] = React.useState('');

            const addToCart = (item) => {
                setCart(prev => {
                    const existing = prev.find(i => i.name === item.name);
                    if (existing) {
                        return prev.map(i => 
                            i.name === item.name 
                                ? { ...i, quantity: i.quantity + 1 }
                                : i
                        );
                    }
                    return [...prev, { ...item, quantity: 1 }];
                });
            };

            const removeFromCart = (itemName) => {
                setCart(prev => prev.filter(item => item.name !== itemName));
            };

            const getTotal = () => {
                return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            };

            return React.createElement('div', { className: 'min-h-screen bg-gray-100 p-4' },
                // Header
                React.createElement('div', { className: 'bg-white rounded-2xl shadow-lg mb-4' },
                    React.createElement('div', { className: 'bg-green-500 text-white p-6 rounded-t-2xl text-center' },
                        React.createElement('h1', { className: 'text-2xl font-bold mb-2' }, 'ğŸœ å°ç£å°åƒåº—'),
                        React.createElement('p', { className: 'text-sm opacity-90' }, 'LINE å¿«é€Ÿè¨‚é¤ - 24å°æ™‚æœå‹™')
                    ),
                    
                    // Customer Info
                    React.createElement('div', { className: 'p-4' },
                        React.createElement('div', { className: 'mb-3' },
                            React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'å§“å'),
                            React.createElement('input', {
                                type: 'text',
                                value: customerName,
                                onChange: (e) => setCustomerName(e.target.value),
                                className: 'w-full p-2 border border-gray-300 rounded-lg',
                                placeholder: 'è«‹è¼¸å…¥æ‚¨çš„å§“å'
                            })
                        ),
                        React.createElement('div', { className: 'mb-3' },
                            React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'æ‰‹æ©Ÿè™Ÿç¢¼'),
                            React.createElement('input', {
                                type: 'tel',
                                value: customerPhone,
                                onChange: (e) => setCustomerPhone(e.target.value),
                                className: 'w-full p-2 border border-gray-300 rounded-lg',
                                placeholder: '0936123456'
                            })
                        )
                    )
                ),

                // Menu
                React.createElement('div', { className: 'bg-white rounded-2xl shadow-lg mb-4 p-4' },
                    React.createElement('h2', { className: 'text-lg font-bold text-center mb-4' }, 'ğŸ“ é¸æ“‡é¤é»'),
                    React.createElement('div', { className: 'space-y-3' },
                        menuItems.map(item => 
                            React.createElement('div', { 
                                key: item.name,
                                className: 'flex justify-between items-center p-3 border border-gray-200 rounded-lg'
                            },
                                React.createElement('div', null,
                                    React.createElement('h3', { className: 'font-bold' }, `${item.icon} ${item.name}`),
                                    React.createElement('p', { className: 'text-green-600 font-bold' }, `$${item.price}`)
                                ),
                                React.createElement('button', {
                                    onClick: () => addToCart(item),
                                    className: 'bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg'
                                }, 'åŠ å…¥')
                            )
                        )
                    )
                ),

                // Cart
                cart.length > 0 && React.createElement('div', { className: 'bg-yellow-50 rounded-2xl shadow-lg mb-4 p-4 border border-yellow-200' },
                    React.createElement('h2', { className: 'text-lg font-bold mb-3' }, 'ğŸ›’ è³¼ç‰©è»Š'),
                    React.createElement('div', { className: 'space-y-2' },
                        cart.map(item =>
                            React.createElement('div', {
                                key: item.name,
                                className: 'flex justify-between items-center'
                            },
                                React.createElement('div', null,
                                    React.createElement('span', { className: 'font-bold' }, `${item.icon} ${item.name}`),
                                    React.createElement('span', { className: 'text-gray-600 ml-2' }, `x${item.quantity}`)
                                ),
                                React.createElement('div', { className: 'flex items-center gap-2' },
                                    React.createElement('span', { className: 'font-bold text-green-600' }, `$${item.price * item.quantity}`),
                                    React.createElement('button', {
                                        onClick: () => removeFromCart(item.name),
                                        className: 'bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full flex items-center justify-center'
                                    }, 'Ã—')
                                )
                            )
                        )
                    ),
                    React.createElement('div', { className: 'flex justify-between items-center mt-3 pt-3 border-t border-gray-300' },
                        React.createElement('span', { className: 'font-bold' }, 'ç¸½é‡‘é¡:'),
                        React.createElement('span', { className: 'text-xl font-bold text-green-600' }, `$${getTotal()}`)
                    )
                ),

                // Order Button
                React.createElement('div', { className: 'text-center' },
                    React.createElement('button', {
                        onClick: () => {
                            if (!customerName || !customerPhone) {
                                alert('è«‹å¡«å¯«å§“åå’Œæ‰‹æ©Ÿè™Ÿç¢¼');
                                return;
                            }
                            if (cart.length === 0) {
                                alert('è«‹é¸æ“‡é¤é»');
                                return;
                            }
                            alert(`è¨‚å–®æäº¤æˆåŠŸï¼\nå§“å: ${customerName}\né›»è©±: ${customerPhone}\nç¸½é‡‘é¡: $${getTotal()}`);
                        },
                        className: 'w-full bg-green-500 hover:bg-green-600 text-white font-bold py-4 px-6 rounded-2xl text-lg disabled:bg-gray-400',
                        disabled: cart.length === 0
                    }, cart.length === 0 ? 'è«‹é¸æ“‡é¤é»' : `âœ… é€å‡ºè¨‚å–® ($${getTotal()})`)
                ),

                // Footer
                React.createElement('div', { className: 'mt-6 text-center text-xs text-gray-500' },
                    React.createElement('p', null, 'ğŸ“ ç‡Ÿæ¥­æ™‚é–“: 10:00 - 21:00 | ğŸ“ è¯çµ¡é›»è©±: 02-1234-5678')
                )
            );
        };

        // æ¸²æŸ“æ‡‰ç”¨
        console.log('é–‹å§‹æ¸²æŸ“ React æ‡‰ç”¨...');
        ReactDOM.render(React.createElement(SimpleOrderApp), document.getElementById('root'));
        console.log('React æ‡‰ç”¨æ¸²æŸ“å®Œæˆ');
    </script>
</body>
</html>
